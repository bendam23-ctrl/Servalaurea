<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Dado 3D dei Link</title>
<style>
body {
  margin: 0;
  background: #0f0f0f;
  color: white;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

.screen {
  display: none;
  text-align: center;
}

.active {
  display: block;
}

button {
  padding: 15px 30px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.scene {
  width: 150px;
  height: 150px;
  perspective: 600px;
  margin: auto;
}

.cube {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 2s cubic-bezier(.17,.67,.83,.67);
}

.face {
  position: absolute;
  width: 150px;
  height: 150px;
  background: white;
  color: black;
  font-size: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid #333;
}

.front  { transform: rotateY(0deg) translateZ(75px); }
.back   { transform: rotateY(180deg) translateZ(75px); }
.right  { transform: rotateY(90deg) translateZ(75px); }
.left   { transform: rotateY(-90deg) translateZ(75px); }
.top    { transform: rotateX(90deg) translateZ(75px); }
.bottom { transform: rotateX(-90deg) translateZ(75px); }

h1 {
  margin-bottom: 30px;
}
</style>
</head>
<body>

<div id="startScreen" class="screen active">
  <h1>Avvia esperienza</h1>
  <button onclick="vaiAlDado()">Entra</button>
</div>

<div id="diceScreen" class="screen">
  <h1>Lancia il dado</h1>
  <div class="scene">
    <div class="cube" id="cube" onclick="lanciaDado()">
      <div class="face front">1</div>
      <div class="face back">2</div>
      <div class="face right">3</div>
      <div class="face left">4</div>
      <div class="face top">5</div>
      <div class="face bottom">6</div>
    </div>
  </div>
</div>

<script>
const links = [
  "https://www.google.com",
  "https://www.wikipedia.org",
  "https://www.youtube.com",
  "https://www.spotify.com",
  "https://www.github.com",
  "https://www.reddit.com"
];

function vaiAlDado() {
  document.getElementById("startScreen").classList.remove("active");
  document.getElementById("diceScreen").classList.add("active");
}

function suono() {
  const ctx = new (window.AudioContext || window.webkitAudioContext)();
  const oscillator = ctx.createOscillator();
  oscillator.type = "square";
  oscillator.frequency.setValueAtTime(120, ctx.currentTime);
  oscillator.connect(ctx.destination);
  oscillator.start();
  oscillator.stop(ctx.currentTime + 0.2);
}

function lanciaDado() {
  const cube = document.getElementById("cube");
  suono();

  const randomX = Math.floor(Math.random() * 4 + 3) * 90;
  const randomY = Math.floor(Math.random() * 4 + 3) * 90;

  cube.style.transform = `rotateX(${randomX}deg) rotateY(${randomY}deg)`;

  setTimeout(() => {
    const indice = Math.floor(Math.random() * links.length);
    window.open(links[indice], "_blank");
  }, 2200);
}
</script>

</body>
</html>